{% extends 'base.html.twig' %}

{% block body %}
<div class="container">
    <div class="row">
        <div class="col-md-3">
            &nbsp;
        </div>
        <div class="col-md-6">
            <div class="bg-light py-3 px-3">
                <h4 class = "text-center">{{titre}}</h4>
                {% if hasError %}
                    <div class="alert alert-danger">{% trans %}An error occured, please check your usename and password{% endtrans %}</div>
                {% endif %}
                <form action="" method="post"> {# action vide =  la meme fonction qui a retourn√© cette vue #}
                    <div class="form-group">
                        <label for="email">{% trans %}Email{% endtrans %}</label>
                        <input type="text" name="_username"  class="form-control" placeholder="{% trans %}Your email address{% endtrans %}" required value="{{username}}"> 
                    </div>
                    <div class="form-group">
                        <label for="password">{% trans %}Password{% endtrans %}</label>
                        <div class="input-group">
                            <input type="password" id="password" name="_password" class="form-control" placeholder="{% trans %}Your password{% endtrans %}" required>
                            <div class="input-group-append">
                                <span class="input-group-text" id ="show">
                                    <i id="eye" class="far fa-eye-slash"></i>
                                </span>
                            </div>
                        </div>
                    </div>
                    <div class="form-group">
                        <button type="submit" class="btn btn-outline-dark">{% trans %}Log in{% endtrans %}</button>
                    </div>
                </form>
            </div>
        </div>
    </div>
</div>
{% endblock %}

{% block javascripts %}
    <script>
        $(document).ready(function () {
            $('#show').hover(function () {
                $('#password').attr('type', $('#password').is(':password') ? 'text' : 'password');
                if ($('#password').attr('type') === 'password') 
                {
                    $('#eye').removeClass('fa-eye').addClass('fa-eye-slash');
                } 
                else 
                {
                    $('#eye').removeClass('fa-eye-slash').addClass('fa-eye');
                }
            });
        });
    </script>
{% endblock %}



